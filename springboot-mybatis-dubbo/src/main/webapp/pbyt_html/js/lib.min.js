function lunbo(t){function a(){for(var t=0;t<c;t++)r.append("<span>");r.css({marginLeft:-.5*r.width()}),o=r.find("span")}function e(){o.removeClass("current").eq(p).addClass("current")}function n(){function t(){return p==c?(l.css({left:0}),p=0,u=0,void e()):void e()}p++,u-=h,l.animate({left:u},{duration:m,complete:t})}function s(){0==p&&(p=c,u=-c*h,l.css({left:u})),p--,u+=h,l.animate({left:u},{duration:m,complete:e})}var o,i=$("#"+t),l=i.find(".picBox"),d=l.find("a"),r=i.find(".indicator"),c=l.find("a").length,p=0,h=i.width(),u=0,f=0,m=(d.eq(0).clone().appendTo(l),200),v=5e3;l.width(h*(c+1.01)),d.each(function(t,a){$(this).width(h),$(this).height(i.height())}),touch.on(i[0],"swipeleft swiperight touchstart touchend",function(t){"touchstart"==t.type&&clearInterval(f),"touchend"==t.type&&(f=setInterval(n,v)),"swipeleft"==t.type&&n(),"swiperight"==t.type&&s()}),a(),e(),f=setInterval(n,v)}function okCancleDialog(t){var a={fn1:function(){},fn2:function(){},title:"对话框标题",btn1:"确定",btn2:"取消",focus:2,containerClass:"ok-cancle-pop",diglogBoxClass:"dialogBox",titleClass:"title",btnClass:"box"},e=$.extend(a,t),n=$("<div>").appendTo("body").addClass(e.containerClass),s=$("<div>").addClass(e.diglogBoxClass).appendTo(n),o=($("<div>").html(e.title).addClass(e.titleClass).appendTo(s),$("<div>").addClass(e.btnClass).html(e.btn1).appendTo(s)),i=$("<div>").addClass(e.btnClass).html(e.btn2).appendTo(s);n.height($(window).height()),s.width(.9*$(window).width()),s.css({marginLeft:($(window).width()-s.width())/2}),1==e.focus?o.addClass("focus"):i.addClass("focus"),n.show(),$(o).on("touchend",function(){e.fn1(),n.hide(),n.remove()}),$(i).on("touchend",function(){e.fn2(),n.hide(),n.remove()})}function DropDown(t,a,e,n){touch.on("."+t,"tap",function(s){var o=$(this).hasClass("."+t)?$(this):$(this).closest("."+t);o.next().is(":hidden")?($("."+a).hide(),$("."+t).removeClass(n).addClass(e),o.removeClass(e).addClass(n),o.next().show()):(o.removeClass(n).addClass(e),o.next().hide())})}var winH=window.innerHeight,winW=window.innerWidth;$("body").css({height:winH,width:winW}),$.fn.tapClass=function(t){var a=this;return touch.on(a.selector,"touchstart",function(a){$(a.currentTarget).addClass(t),setTimeout(function(){$(a.currentTarget).removeClass(t)},150)}),$(a)},$.fn.longTapClass=function(t){var a=this;touch.on(a.selector,"touchstart touchend",function(e){return"touchstart"==e.type?$(e.currentTarget).addClass(t):$(e.currentTarget).removeClass(t),$(a)})},$.fn.scrollTo=function(t){var a={toT:0,durTime:200,delay:1e3/60,callback:null},e=$.extend(a,t),n=null,s=this,o=$("body")[0].scrollTop,i=e.toT-o,l=0,d=Math.round(e.durTime/e.delay),r=function(t){l++;var a=Math.round(i/d);return l>=d?(s.scrollTop=t,window.clearInterval(n),void(e.callback&&"function"==typeof e.callback&&e.callback())):void($("body")[0].scrollTop=o+l*a)};return n=window.setInterval(function(){r(e.toT)},e.delay),s},$.fn.popMessage=function(t){var a=this,e={title:"默认标题",list:["list1","list2","list3"],className:"popMessage",tapClass:"tap"},n=$.extend(e,t),s=$("<div>");s.addClass(n.className),s.width(winW),s.height(winH);for(var o=$("<ul>").appendTo(s),i=($("<p>").html(n.title).appendTo(o),0),l=n.list.length;i<l;i++)$("<li>").html(n.list[i]).appendTo(o);s.appendTo("body"),s.addClass(n.className),o.css({top:.5*winH,marginTop:.5*-o.height()}),$("."+n.className+" li").longTapClass(n.tapClass),$("."+n.className+" li").on("touchstart touchend",function(t){return"touchstart"==t.type&&$(a).val($(this).text()),"touchend"==t.type&&(s.hide(),s.remove()),$(a)})},$.fn.popMore=function(t){var a={list:[{className:"icon-msg",url:"message.html",title:"消息",dot:!0},{className:"icon-home",url:"index.html",title:"首页",dot:!1}],className:"pop-more",tapClass:"tap"},e=$.extend(a,t),n=$("<div>");n.addClass(e.className);var s=$("<span>");s.addClass("triangle"),s.appendTo(n);for(var o=0,i=e.list.length;o<i;o++){var l=$("<a>"),d=$("<div>").addClass("more-box"),r=$("<span>").addClass("icon").addClass(e.list[o].className),c=$("<span>").addClass("span-title").html(e.list[o].title),p=$("<span>").addClass("icon").addClass("span-dot");r.appendTo(d),c.appendTo(d),e.list[o].dot&&p.appendTo(d),d.appendTo(l),l.attr("href",e.list[o].url).appendTo(n)}n.appendTo("body")},$(function(){touch.on("#more","touchstart",function(t){"tap"==t.type?t.preventDefault():(t.stopPropagation(),0===$(".pop-more").length?$(this).popMore():$(".pop-more").remove())}),$("body").on("tap",function(t){$(".pop-more").remove()}),$(".tab-bar-item").on("touchstart",function(t){$(this).siblings().removeClass("hover"),$(this).addClass("hover");var a=$(this).index();$(".tab-bar-item-box").hide(),$(".tab-bar-item-box:eq("+a+")").show()})});